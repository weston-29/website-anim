<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weston Keller ASCII</title>
  <style>
    body {
      background: white;
      color: #7A45FF;
      font-family: monospace;
      height: 100vh;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      perspective: 800px;
      overflow: hidden;
    }
    #ascii {
      font-size: 14px;
      white-space: pre;
      text-align: center;
      transition: transform 0.1s ease-out;
      transform-style: preserve-3d;
    }
    #ascii.settling {
      transition: transform 1.2s ease-out;
    }
    .ascii-line {
      display: block;
      transition: transform 0.2s ease-out;
    }
  </style>
</head>
<body>
  <pre id="ascii"></pre>
  <script>
    const ascii = document.getElementById("ascii");

    const asciiArt = `
██     ██ ███████ ███████ ████████  ██████  ███    ██    ██   ██ ███████ ██      ██      ███████ ██████  
██     ██ ██      ██         ██    ██    ██ ████   ██    ██  ██  ██      ██      ██      ██      ██   ██ 
██  █  ██ █████   ███████    ██    ██    ██ ██  ██ ██    ██ ██   █████   ██      ██      █████   ███ ██  
██ ███ ██ ██           ██    ██    ██    ██ ██   ████    ██  ██  ██      ██      ██      ██      ██   ██ 
 ███ ███  ███████ ███████    ██     ██████  ██    ███    ██   ██ ███████ ███████ ███████ ███████ ██    ██
`;

    const symbols = '!@#$%&/+';
    const lines = asciiArt.split('\n');
    const displayLines = lines.map(line => line.split('').map(c => c === ' ' ? ' ' : ' ').join(''));
    
    ascii.innerHTML = displayLines.map(line => `<span class="ascii-line">${line}</span>`).join('\n');

    let iteration = 0;
    const totalIterations = 30;

    function randomSymbol() {
      return symbols[Math.floor(Math.random() * symbols.length)];
    }

    function scramble() {
      const spans = ascii.querySelectorAll('.ascii-line');
      spans.forEach((span, i) => {
        const line = lines[i];
        let output = '';
        for (let j = 0; j < line.length; j++) {
          if (line[j] === '\n') {
            output += '\n';
          } else if (Math.random() < (1 - iteration / totalIterations)) {
            output += randomSymbol();
          } else {
            output += line[j];
          }
        }
        span.textContent = output;
      });
      iteration++;
      if (iteration <= totalIterations) {
        setTimeout(scramble, 50);
      }
    }

    window.onload = scramble;

    // Mouse line-level parallax
    let isMouseInside = false;
    document.addEventListener("mouseenter", () => {
      isMouseInside = true;
      ascii.classList.remove("settling");
    });
    document.addEventListener("mouseleave", () => {
      isMouseInside = false;
      ascii.classList.add("settling");
      const spans = ascii.querySelectorAll('.ascii-line');
      spans.forEach(span => span.style.transform = `translate(${0}px, ${0}px)`);
      setTimeout(() => ascii.classList.remove("settling"), 1200);
    });

    document.addEventListener("mousemove", (e) => {
      if (!isMouseInside) return;
      const { innerWidth, innerHeight } = window;
      const x = (e.clientX / innerWidth - 0.5) * 2; // -1 to 1
      const y = (e.clientY / innerHeight - 0.5) * 2; // -1 to 1
      const spans = ascii.querySelectorAll('.ascii-line');

      spans.forEach((span, i) => {
        const factor = (i + 1) / spans.length; // stagger lines slightly
        const maxOffset = 15; // px
        span.style.transform = `translate(${x * maxOffset * factor}px, ${y * maxOffset * factor}px)`;
      });
    });
  </script>
</body>
</html>
